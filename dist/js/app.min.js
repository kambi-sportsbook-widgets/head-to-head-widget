!function(){"use strict";var t=Stapes.subclass({constructor:function(){this.scope={};var t=document.getElementById("app"),e="//c3-static.kambi.com/sb-mobileclient/widget-api/1.0.0.10/resources/css/";CoreLibrary.init().then(function(t){this.scope.args={title:"Head to Head"},this.scope.widgetCss=e+CoreLibrary.config.clientConfig.customer+"/"+CoreLibrary.config.clientConfig.offering+"/widgets.css",Object.keys(t).forEach(function(e){this.scope.args[e]=t[e]}.bind(this)),CoreLibrary.widgetModule.enableWidgetTransition(!0);var a;a=null!=this.scope.args.eventId?this.scope.args.eventId:CoreLibrary.pageInfo.pageParam,CoreLibrary.statisticsModule.getStatistics("h2h","event/"+a+"/").then(function(t){this.scope.data=this.parseDataInfo(t),this.scope.stats=t.lastEvents,this.adjustHeight(),this.scope.onLoad="block"}.bind(this))["catch"](function(t){CoreLibrary.widgetModule.removeWidget()}.bind(this))}.bind(this))["catch"](function(t){}),this.view=rivets.bind(t,this.scope)},adjustHeight:function(){var t=99,e=32,a=t;this.scope.stats.forEach(function(){a+=e}),CoreLibrary.widgetModule.setWidgetHeight(a)},parseDataInfo:function(t){var e=[],a=[],s=[],i=t.homeParticipant.participantName,r=t.awayParticipant.participantName;t.lastEvents.forEach(function(t){var e={start:t.start,homeParticipant:t.homeParticipant.participantName,awayParticipant:t.awayParticipant.participantName,homeScore:t.scores[0].homeScore,awayScore:t.scores[0].awayScore,type:t.scores[0].type};i===e.homeParticipant?(e.scoreOnLeft=e.homeScore,e.scoreOnRight=e.awayScore):(e.scoreOnLeft=e.awayScore,e.scoreOnRight=e.homeScore),a.push(e)});for(var o=0;o<t.lastEvents.length;o++)for(var n=0;n<t.lastEvents[o].scores.length;n++)s.push(t.lastEvents[o].scores[n].homeScore),s.push(t.lastEvents[o].scores[n].awayScore);var c=function(t){return Math.max.apply(null,t)};return e.push({homeTeam:i,awayTeam:r,lastEvents:a,maxScore:c(s)}),e}});rivets.binders.width=function(t,e){t.style.setProperty("width",100*e+"%")};new t}();