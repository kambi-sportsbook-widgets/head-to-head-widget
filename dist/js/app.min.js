!function(){var t;t=["widgetCore","widgetCore.translate"],function(t){"use strict";return t}(angular.module("headToHeadWidget",t))}(),function(){"use strict";!function(t){return t.controller("appController",["$scope","$controller","$http","kambiAPIService","kambiWidgetService","$timeout",function(t,e,a,n,o,r){angular.extend(this,e("widgetCoreController",{$scope:t})),t.defaultArgs={data_url:"statistics.json",history_height:.15,enabled:{history:!0,performance:!0,leagueTable:!0,meetings:!0}},t.defaultHeight=253,t.circle_height=(t.defaultHeight-40)*t.defaultArgs.history_height,t.getStatsData=function(){a({method:"GET",url:t.defaultArgs.data_url}).then(function(e){e.data&&(t.data=e.data,t.setHistoryGraph(t.data.statistics.history),r(function(){t.setMeetingsGraph(t.data.statistics.lastMeetings)},100),r(function(){t.setPerformanceGraph(t.data.statistics.performance)},300),r(function(){t.setTable(t.data.statistics.leagueTable)},300))},function(t){})},t.setHistoryGraph=function(e){var a=Object.keys(e).map(function(t){return e[t]});t.history_total=t.getTotals(e),t.history_max=Math.max.apply(Math,a)},t.setMeetingsGraph=function(e){var a=Math.max.apply(Math,e.map(function(t){return t.homeScore})),n=Math.max.apply(Math,e.map(function(t){return t.awayScore}));t.meetings_max=Math.max.apply(Math,[a,n])},t.setPerformanceGraph=function(e){t.performance_total=20*e.homeTeam.length,t.performance_home_total=t.getTotals(e.homeTeam,"points"),t.performance_away_total=t.getTotals(e.awayTeam,"points")},t.setTable=function(e){t.columnLabels=e.columnLabels,t.leagueTableRows=e.leagueTableRows},t.getTotals=function(t,e){var a=0,n=0,o=t.length;for("object"==typeof t&&(o=Object.keys(t).length);o>n;++n){var r=n;"object"==typeof t&&(r=Object.keys(t)[n]);var i=t[r];e&&(i=i[e]),a+=parseInt(i,10)}return a},t.$on("PAGE:INFO",function(t,e){}),o.requestPageInfo(),t.init().then(function(){t.getStatsData()})}])}(angular.module("headToHeadWidget"))}();