!function(){"use strict";var t=Stapes.subclass({constructor:function(){this.scope={};var t=document.getElementById("app"),e="//c3-static.kambi.com/sb-mobileclient/widget-api/1.0.0.10/resources/css/";CoreLibrary.init().then(function(t){this.scope.args={title:"Head to Head",eventId:"1003145950"},this.scope.widgetCss=e+CoreLibrary.config.clientConfig.customer+"/"+CoreLibrary.config.clientConfig.offering+"/widgets.css",Object.keys(t).forEach(function(e){this.scope.args[e]=t[e]}.bind(this)),CoreLibrary.widgetModule.enableWidgetTransition(!0);var a=CoreLibrary.pageInfo.pageParam;CoreLibrary.pageInfo.pageParam||(a=this.scope.args.eventId),CoreLibrary.statisticsModule.getStatistics("h2h","event/"+a+"/").then(function(t){this.scope.data=this.parseDataInfo(t),this.scope.stats=t.lastEvents,this.adjustHeight(),CoreLibrary.offeringModule.doRequest("/betoffer/live/event/"+a+".json?lang=en_GB&market=GB",!1,"v2").then(function(t){if(t&&t.events&&t.events.length)for(var e=0,a=t.events.length;a>e;++e){var o=t.events[e];!o.teamColors||7!==o.teamColors.home.shirtColor1.length&&4!==o.teamColors.home.shirtColor1.length?o.teamColors&&(this.scope.teamColors={home:{shirtColor1:"#00FFFF",shirtColor2:"#FFFFFF"},away:{shirtColor1:"#CC0000",shirtColor2:"#000"}}):this.scope.teamColors=o.teamColors}this.view.update(this.scope)}.bind(this))}.bind(this))["catch"](function(t){CoreLibrary.widgetModule.removeWidget()}.bind(this))}.bind(this))["catch"](function(t){}),this.view=rivets.bind(t,this.scope)},adjustHeight:function(){var t=74,e=35,a=t;this.scope.stats.forEach(function(){a+=e}),CoreLibrary.widgetModule.setWidgetHeight(a)},parseDataInfo:function(t){var e=[],a=[],o=[],s=t.homeParticipant.participantName,r=t.awayParticipant.participantName;t.lastEvents.forEach(function(t){var e={start:t.start,homeParticipant:t.homeParticipant.participantName,awayParticipant:t.awayParticipant.participantName,homeScore:t.scores[0].homeScore,awayScore:t.scores[0].awayScore,type:t.scores[0].type};s===e.homeParticipant?(e.scoreOnLeft=e.homeScore,e.scoreOnRight=e.awayScore):(e.scoreOnLeft=e.awayScore,e.scoreOnRight=e.homeScore),a.push(e)});for(var i=0;i<t.lastEvents.length;i++)for(var n=0;n<t.lastEvents[i].scores.length;n++)o.push(t.lastEvents[i].scores[n].homeScore),o.push(t.lastEvents[i].scores[n].awayScore);var c=function(t){return Math.max.apply(null,t)};return e.push({homeTeam:s,awayTeam:r,lastEvents:a,maxScore:c(o)}),e}});new t}();