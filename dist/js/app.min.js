!function(){var t;t=["widgetCore","widgetCore.translate"],function(t){"use strict";return t}(angular.module("headToHeadWidget",t))}(),function(){"use strict";!function(t){return t.controller("appController",["$scope","$controller","$http",function(t,e,a){angular.extend(this,e("widgetCoreController",{$scope:t})),t.defaultArgs={data_url:"statistics.json",historyLimit:6},t.headerHeight=37,t.lineHeight=36,t.widgetTransitions=!1,t.getStatsData=function(){a({method:"GET",url:t.defaultArgs.data_url}).then(function(e){if(e.data){t.data=e.data,t.setMeetingsGraph(t.data.statistics.lastMeetings);var a=t.data.statistics.lastMeetings.slice(0,t.args.historyLimit).length;t.setWidgetHeight(t.headerHeight+t.lineHeight*(a+1))}},function(t){})},t.setHistoryGraph=function(e){var a=Object.keys(e).map(function(t){return e[t]});t.history_total=t.getTotals(e),t.history_max=Math.max.apply(Math,a)},t.setMeetingsGraph=function(e){var a=Math.max.apply(Math,e.map(function(t){return t.homeScore})),n=Math.max.apply(Math,e.map(function(t){return t.awayScore}));t.meetings_max=Math.max.apply(Math,[a,n])},t.setPerformanceGraph=function(e){t.performance_total=20*e.homeTeam.length,t.performance_home_total=t.getTotals(e.homeTeam,"points"),t.performance_away_total=t.getTotals(e.awayTeam,"points")},t.setTable=function(e){t.columnLabels=e.columnLabels,t.leagueTableRows=e.leagueTableRows},t.getTotals=function(t,e){var a=0,n=0,o=t.length;for("object"==typeof t&&(o=Object.keys(t).length);o>n;++n){var r=n;"object"==typeof t&&(r=Object.keys(t)[n]);var i=t[r];e&&(i=i[e]),a+=parseInt(i,10)}return a},t.init().then(function(){t.getStatsData()})}])}(angular.module("headToHeadWidget"))}();