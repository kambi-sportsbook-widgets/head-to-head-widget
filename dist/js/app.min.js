!function(){"use strict";var e=Stapes.subclass({constructor:function(){this.scope={};var e=document.getElementById("app"),t="//c3-static.kambi.com/sb-mobileclient/widget-api/1.0.0.10/resources/css/";CoreLibrary.init().then(function(e){this.scope.args={title:"Head to Head",eventId:"1003145950"},this.scope.widgetCss=t+CoreLibrary.config.clientConfig.customer+"/"+CoreLibrary.config.clientConfig.offering+"/widgets.css",Object.keys(e).forEach(function(t){this.scope.args[t]=e[t]}.bind(this)),CoreLibrary.widgetModule.enableWidgetTransition(!0);var a=CoreLibrary.pageInfo.pageParam;CoreLibrary.pageInfo.pageParam||(a=this.scope.args.eventId),CoreLibrary.statisticsModule.getStatistics("h2h","event/"+a+"/").then(function(e){this.scope.data=this.parseDataInfo(e),this.scope.stats=e.lastEvents,this.adjustHeight();var t=CoreLibrary.widgetModule.getPageType();CoreLibrary.offeringModule.doRequest("/betoffer/"+t+"event/"+a+".json",!1,"v2").then(function(e){if(e&&e.events&&e.events.length)for(var t=0,a=e.events.length;a>t;++t){var o=e.events[t];!o.teamColors||7!==o.teamColors.home.shirtColor1.length&&4!==o.teamColors.home.shirtColor1.length?o.teamColors&&(this.scope.teamColors={home:{shirtColor1:"#00FFFF",shirtColor2:"#FFFFFF"},away:{shirtColor1:"#CC0000",shirtColor2:"#000"}}):this.scope.teamColors=o.teamColors}this.view.update(this.scope)}.bind(this))}.bind(this))["catch"](function(e){CoreLibrary.widgetModule.removeWidget()}.bind(this))}.bind(this))["catch"](function(e){}),this.view=rivets.bind(e,this.scope)},adjustHeight:function(){var e=74,t=35,a=e;this.scope.stats.forEach(function(){a+=t}),CoreLibrary.widgetModule.setWidgetHeight(a)},parseDataInfo:function(e){var t=[],a=[],o=[],r=e.homeParticipant.participantName,s=e.awayParticipant.participantName;e.lastEvents.forEach(function(e){var t={start:e.start,homeParticipant:e.homeParticipant.participantName,awayParticipant:e.awayParticipant.participantName,homeScore:e.scores[0].homeScore,awayScore:e.scores[0].awayScore,type:e.scores[0].type};r===t.homeParticipant?(t.scoreOnLeft=t.homeScore,t.scoreOnRight=t.awayScore):(t.scoreOnLeft=t.awayScore,t.scoreOnRight=t.homeScore),a.push(t)});for(var i=0;i<e.lastEvents.length;i++)for(var n=0;n<e.lastEvents[i].scores.length;n++)o.push(e.lastEvents[i].scores[n].homeScore),o.push(e.lastEvents[i].scores[n].awayScore);var c=function(e){return Math.max.apply(null,e)};return t.push({homeTeam:r,awayTeam:s,lastEvents:a,maxScore:c(o)}),t}});new e}();